(()=>{var oe=Object.defineProperty;var se=(t,e,n)=>e in t?oe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var S=(t,e,n)=>(se(t,typeof e!="symbol"?e+"":e,n),n);var W=Math.PI,Q=2*W,L=1e-6,ae=Q-L;function K(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function rt(){return new K}K.prototype=rt.prototype={constructor:K,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,i){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(t,e,n,i,r,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+o)},arcTo:function(t,e,n,i,r){t=+t,e=+e,n=+n,i=+i,r=+r;var o=this._x1,s=this._y1,a=n-t,l=i-e,f=o-t,u=s-e,c=f*f+u*u;if(r<0)throw new Error("negative radius: "+r);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(c>L)if(!(Math.abs(u*a-l*f)>L)||!r)this._+="L"+(this._x1=t)+","+(this._y1=e);else{var p=n-o,m=i-s,d=a*a+l*l,b=p*p+m*m,v=Math.sqrt(d),w=Math.sqrt(c),_=r*Math.tan((W-Math.acos((d+c-b)/(2*v*w)))/2),g=_/w,A=_/v;Math.abs(g-1)>L&&(this._+="L"+(t+g*f)+","+(e+g*u)),this._+="A"+r+","+r+",0,0,"+ +(u*p>f*m)+","+(this._x1=t+A*a)+","+(this._y1=e+A*l)}},arc:function(t,e,n,i,r,o){t=+t,e=+e,n=+n,o=!!o;var s=n*Math.cos(i),a=n*Math.sin(i),l=t+s,f=e+a,u=1^o,c=o?i-r:r-i;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+l+","+f:(Math.abs(this._x1-l)>L||Math.abs(this._y1-f)>L)&&(this._+="L"+l+","+f),n&&(c<0&&(c=c%Q+Q),c>ae?this._+="A"+n+","+n+",0,1,"+u+","+(t-s)+","+(e-a)+"A"+n+","+n+",0,1,"+u+","+(this._x1=l)+","+(this._y1=f):c>L&&(this._+="A"+n+","+n+",0,"+ +(c>=W)+","+u+","+(this._x1=t+n*Math.cos(r))+","+(this._y1=e+n*Math.sin(r))))},rect:function(t,e,n,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};var Z=rt;function C(t){return function(){return t}}var hn=Array.prototype.slice;function it(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ot(t){this._context=t}ot.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function st(t){return new ot(t)}function at(t){return t[0]}function lt(t){return t[1]}function T(t,e){var n=C(!0),i=null,r=st,o=null;t=typeof t=="function"?t:t===void 0?at:C(t),e=typeof e=="function"?e:e===void 0?lt:C(e);function s(a){var l,f=(a=it(a)).length,u,c=!1,p;for(i==null&&(o=r(p=Z())),l=0;l<=f;++l)!(l<f&&n(u=a[l],l,a))===c&&((c=!c)?o.lineStart():o.lineEnd()),c&&o.point(+t(u,l,a),+e(u,l,a));if(p)return o=null,p+""||null}return s.x=function(a){return arguments.length?(t=typeof a=="function"?a:C(+a),s):t},s.y=function(a){return arguments.length?(e=typeof a=="function"?a:C(+a),s):e},s.defined=function(a){return arguments.length?(n=typeof a=="function"?a:C(!!a),s):n},s.curve=function(a){return arguments.length?(r=a,i!=null&&(o=r(i)),s):r},s.context=function(a){return arguments.length?(a==null?i=o=null:o=r(i=a),s):i},s}var G=class{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}};function J(t){return new G(t,!1)}function ut(t){this._context=t}ut.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var i=ft(t),r=ft(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(i[0][o],r[0][o],i[1][o],r[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function ft(t){var e,n=t.length-1,i,r=new Array(n),o=new Array(n),s=new Array(n);for(r[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)r[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(r[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)i=r[e]/o[e-1],o[e]-=i,s[e]-=i*s[e-1];for(r[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)r[e]=(s[e]-r[e+1])/o[e];for(o[n-1]=(t[n]+r[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-r[e+1];return[r,o]}function E(t){return new ut(t)}var F="http://www.w3.org/1999/xhtml",j={svg:"http://www.w3.org/2000/svg",xhtml:F,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function H(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),j.hasOwnProperty(e)?{space:j[e],local:t}:t}function le(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===F&&e.documentElement.namespaceURI===F?e.createElement(t):e.createElementNS(n,t)}}function fe(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function D(t){var e=H(t);return(e.local?fe:le)(e)}function ue(){}function V(t){return t==null?ue:function(){return this.querySelector(t)}}function ct(t){typeof t!="function"&&(t=V(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o=e[r],s=o.length,a=i[r]=new Array(s),l,f,u=0;u<s;++u)(l=o[u])&&(f=t.call(l,l.__data__,u,o))&&("__data__"in l&&(f.__data__=l.__data__),a[u]=f);return new h(i,this._parents)}function P(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function ce(){return[]}function ht(t){return t==null?ce:function(){return this.querySelectorAll(t)}}function he(t){return function(){return P(t.apply(this,arguments))}}function pt(t){typeof t=="function"?t=he(t):t=ht(t);for(var e=this._groups,n=e.length,i=[],r=[],o=0;o<n;++o)for(var s=e[o],a=s.length,l,f=0;f<a;++f)(l=s[f])&&(i.push(t.call(l,l.__data__,f,s)),r.push(l));return new h(i,r)}function dt(t){return function(){return this.matches(t)}}function X(t){return function(e){return e.matches(t)}}var pe=Array.prototype.find;function de(t){return function(){return pe.call(this.children,t)}}function me(){return this.firstElementChild}function mt(t){return this.select(t==null?me:de(typeof t=="function"?t:X(t)))}var _e=Array.prototype.filter;function ge(){return Array.from(this.children)}function xe(t){return function(){return _e.call(this.children,t)}}function _t(t){return this.selectAll(t==null?ge:xe(typeof t=="function"?t:X(t)))}function gt(t){typeof t!="function"&&(t=dt(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o=e[r],s=o.length,a=i[r]=[],l,f=0;f<s;++f)(l=o[f])&&t.call(l,l.__data__,f,o)&&a.push(l);return new h(i,this._parents)}function $(t){return new Array(t.length)}function xt(){return new h(this._enter||this._groups.map($),this._parents)}function N(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}N.prototype={constructor:N,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function yt(t){return function(){return t}}function ye(t,e,n,i,r,o){for(var s=0,a,l=e.length,f=o.length;s<f;++s)(a=e[s])?(a.__data__=o[s],i[s]=a):n[s]=new N(t,o[s]);for(;s<l;++s)(a=e[s])&&(r[s]=a)}function ve(t,e,n,i,r,o,s){var a,l,f=new Map,u=e.length,c=o.length,p=new Array(u),m;for(a=0;a<u;++a)(l=e[a])&&(p[a]=m=s.call(l,l.__data__,a,e)+"",f.has(m)?r[a]=l:f.set(m,l));for(a=0;a<c;++a)m=s.call(t,o[a],a,o)+"",(l=f.get(m))?(i[a]=l,l.__data__=o[a],f.delete(m)):n[a]=new N(t,o[a]);for(a=0;a<u;++a)(l=e[a])&&f.get(p[a])===l&&(r[a]=l)}function we(t){return t.__data__}function vt(t,e){if(!arguments.length)return Array.from(this,we);var n=e?ve:ye,i=this._parents,r=this._groups;typeof t!="function"&&(t=yt(t));for(var o=r.length,s=new Array(o),a=new Array(o),l=new Array(o),f=0;f<o;++f){var u=i[f],c=r[f],p=c.length,m=be(t.call(u,u&&u.__data__,f,i)),d=m.length,b=a[f]=new Array(d),v=s[f]=new Array(d),w=l[f]=new Array(p);n(u,c,b,v,w,m,e);for(var _=0,g=0,A,O;_<d;++_)if(A=b[_]){for(_>=g&&(g=_+1);!(O=v[g])&&++g<d;);A._next=O||null}}return s=new h(s,i),s._enter=a,s._exit=l,s}function be(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function wt(){return new h(this._exit||this._groups.map($),this._parents)}function bt(t,e,n){var i=this.enter(),r=this,o=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(r=e(r),r&&(r=r.selection())),n==null?o.remove():n(o),i&&r?i.merge(r).order():r}function St(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,r=n.length,o=i.length,s=Math.min(r,o),a=new Array(r),l=0;l<s;++l)for(var f=n[l],u=i[l],c=f.length,p=a[l]=new Array(c),m,d=0;d<c;++d)(m=f[d]||u[d])&&(p[d]=m);for(;l<r;++l)a[l]=n[l];return new h(a,this._parents)}function At(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],r=i.length-1,o=i[r],s;--r>=0;)(s=i[r])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function Lt(t){t||(t=Se);function e(c,p){return c&&p?t(c.__data__,p.__data__):!c-!p}for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var s=n[o],a=s.length,l=r[o]=new Array(a),f,u=0;u<a;++u)(f=s[u])&&(l[u]=f);l.sort(e)}return new h(r,this._parents).order()}function Se(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Ct(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Mt(){return Array.from(this)}function Tt(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,o=i.length;r<o;++r){var s=i[r];if(s)return s}return null}function Et(){let t=0;for(let e of this)++t;return t}function Pt(){return!this.node()}function Nt(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r=e[n],o=0,s=r.length,a;o<s;++o)(a=r[o])&&t.call(a,a.__data__,o,r);return this}function Ae(t){return function(){this.removeAttribute(t)}}function Le(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ce(t,e){return function(){this.setAttribute(t,e)}}function Me(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Te(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Ee(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Rt(t,e){var n=H(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?Le:Ae:typeof e=="function"?n.local?Ee:Te:n.local?Me:Ce)(n,e))}function Y(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Pe(t){return function(){this.style.removeProperty(t)}}function Ne(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Re(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function qt(t,e,n){return arguments.length>1?this.each((e==null?Pe:typeof e=="function"?Re:Ne)(t,e,n==null?"":n)):qe(this.node(),t)}function qe(t,e){return t.style.getPropertyValue(e)||Y(t).getComputedStyle(t,null).getPropertyValue(e)}function ke(t){return function(){delete this[t]}}function Be(t,e){return function(){this[t]=e}}function Oe(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function kt(t,e){return arguments.length>1?this.each((e==null?ke:typeof e=="function"?Oe:Be)(t,e)):this.node()[t]}function Bt(t){return t.trim().split(/^|\s+/)}function tt(t){return t.classList||new Ot(t)}function Ot(t){this._node=t,this._names=Bt(t.getAttribute("class")||"")}Ot.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Ft(t,e){for(var n=tt(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function Ht(t,e){for(var n=tt(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function Fe(t){return function(){Ft(this,t)}}function He(t){return function(){Ht(this,t)}}function De(t,e){return function(){(e.apply(this,arguments)?Ft:Ht)(this,t)}}function Dt(t,e){var n=Bt(t+"");if(arguments.length<2){for(var i=tt(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each((typeof e=="function"?De:e?Fe:He)(n,e))}function Ve(){this.textContent=""}function Xe(t){return function(){this.textContent=t}}function $e(t){return function(){var e=t.apply(this,arguments);this.textContent=e==null?"":e}}function Vt(t){return arguments.length?this.each(t==null?Ve:(typeof t=="function"?$e:Xe)(t)):this.node().textContent}function Ye(){this.innerHTML=""}function Ue(t){return function(){this.innerHTML=t}}function ze(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e==null?"":e}}function Xt(t){return arguments.length?this.each(t==null?Ye:(typeof t=="function"?ze:Ue)(t)):this.node().innerHTML}function Ie(){this.nextSibling&&this.parentNode.appendChild(this)}function $t(){return this.each(Ie)}function We(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Yt(){return this.each(We)}function Ut(t){var e=typeof t=="function"?t:D(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Qe(){return null}function zt(t,e){var n=typeof t=="function"?t:D(t),i=e==null?Qe:typeof e=="function"?e:V(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function Ke(){var t=this.parentNode;t&&t.removeChild(this)}function It(){return this.each(Ke)}function Ze(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ge(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Wt(t){return this.select(t?Ge:Ze)}function Qt(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Je(t){return function(e){t.call(this,e,this.__data__)}}function je(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function tn(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,r=e.length,o;n<r;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++i]=o;++i?e.length=i:delete this.__on}}}function en(t,e,n){return function(){var i=this.__on,r,o=Je(e);if(i){for(var s=0,a=i.length;s<a;++s)if((r=i[s]).type===t.type&&r.name===t.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),r.value=e;return}}this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function Kt(t,e,n){var i=je(t+""),r,o=i.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,f=a.length,u;l<f;++l)for(r=0,u=a[l];r<o;++r)if((s=i[r]).type===u.type&&s.name===u.name)return u.value}return}for(a=e?en:tn,r=0;r<o;++r)this.each(a(i[r],e,n));return this}function Zt(t,e,n){var i=Y(t),r=i.CustomEvent;typeof r=="function"?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function nn(t,e){return function(){return Zt(this,t,e)}}function rn(t,e){return function(){return Zt(this,t,e.apply(this,arguments))}}function Gt(t,e){return this.each((typeof e=="function"?rn:nn)(t,e))}function*Jt(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,o=i.length,s;r<o;++r)(s=i[r])&&(yield s)}var R=[null];function h(t,e){this._groups=t,this._parents=e}function on(){return new h([[document.documentElement]],R)}function sn(){return this}h.prototype=on.prototype={constructor:h,select:ct,selectAll:pt,selectChild:mt,selectChildren:_t,filter:gt,data:vt,enter:xt,exit:wt,join:bt,merge:St,selection:sn,order:At,sort:Lt,call:Ct,nodes:Mt,node:Tt,size:Et,empty:Pt,each:Nt,attr:Rt,style:qt,property:kt,classed:Dt,text:Vt,html:Xt,raise:$t,lower:Yt,append:Ut,insert:zt,remove:It,clone:Wt,datum:Qt,on:Kt,dispatch:Gt,[Symbol.iterator]:Jt};function q(t){return typeof t=="string"?new h([[document.querySelector(t)]],[document.documentElement]):new h([[t]],R)}function k(t){return typeof t=="string"?new h([document.querySelectorAll(t)],[document.documentElement]):new h([P(t)],R)}var jt={line:T,curveNatural:E,select:q,selectAll:k},x={minHeight:30,maxHeight:75,width:30,maxMidShift:25,maxTipShift:9};function y(t,e=0){return Math.random()*(t-e)+e}function te(t){return y(t,-t)}function M(){return Math.random()<.5}var Fi=new Event("tag-select"),Hi=new Event("tag-deselect");var B=class B{constructor(){S(this,"x",0);S(this,"leftPoints",[]);S(this,"rightPoints",[]);this.height=this.getHeight(),this.halfHeight=this.height/2;let e=te(x.maxMidShift);this.leftMid=this.x-x.width/2+e;let n=this.leftMid+x.width;if(this.tip=this.getTip(),this.leftPoints=[this.stem],this.rightPoints=[this.stem],this.height>50){let s=-this.height/2+this.height*.33-y(7),a=-this.height/2+this.height*.66-y(7);if(M()){if(M()){let l=y(7);this.leftPoints.push([this.leftMid+l,s])}else this.leftPoints.push([this.leftMid,s]);if(M()){let l=y(7);this.rightPoints.unshift([this.rightMid-l,s])}else this.rightPoints.unshift([this.rightMid,s])}else{this.leftPoints.push([this.leftMid,s]),this.rightPoints.unshift([this.rightMid,s]);let l=y(5);M()?this.leftPoints.push([this.leftMid+l,a]):this.leftPoints.push([this.leftMid,a]),M()?this.rightPoints.unshift([this.rightMid-l,a]):this.rightPoints.unshift([this.rightMid,a])}}else this.leftPoints.push([this.leftMid,0]),this.rightPoints.unshift([n,0]);let i=x.width*.6-y(7),r=this.leftMid+x.width/2-i/2,o=this.tip[1]-this.height*.2;M()?this.leftPoints.push([r,o]):M()&&this.rightPoints.unshift([r+i,o]),this.leftPoints.push(this.tip),this.rightPoints.unshift(this.tip)}get stem(){return[this.x,-this.halfHeight]}getHeight(){return y(x.maxHeight,x.minHeight)}getTip(){return[this.leftMid+x.width/2+te(x.maxTipShift),this.halfHeight]}get rightMid(){return this.leftMid+x.width}get points(){return[this.stem,[this.leftMid,0],this.tip,[this.rightMid,0],this.stem]}get path(){return B.curve(this.leftPoints)+B.curve(this.rightPoints)}};S(B,"curve",jt.line().curve(jt.curveNatural));var ee=B;var U=class{constructor(){S(this,"mobileQuery",window.matchMedia("(max-width: 790px)"));S(this,"width_opts",{mobile:800,desktop:1200})}isMobile(){return this.mobileQuery.matches}getSVGWidth(){return this.isMobile()?this.width_opts.mobile:this.width_opts.desktop}};var et={line:T,curveNatural:E,curveBumpY:J,select:q,selectAll:k};function ne(t){return et.line().curve(et.curveBumpY)(t.map(n=>[n.x,n.y]))}var z=150,re=z*.9,ie={width:z,topLeft:-z/2,topRight:z/2,bottomLeft:-re/2,bottomRight:re/2};var I=class extends U{constructor(){super();let e=this.getSVGWidth(),n=130,i=-e/2,r=0,o=i+e/2,s=et.select("body > footer").append("svg").lower().attr("id","roots").attr("viewBox",[i,r,e,n]),a=document.querySelectorAll("body > footer > nav > a"),l=a.length,f=e/l+1,u=n/2,c=window.location.pathname;a.forEach((p,m)=>{let d=m<l/2,b=d?ie.bottomLeft:ie.bottomRight,v=i+f*m+f/2,w=[(v-b)/3*2+(d?-45:45),y(n/3,n/2)],_=[[o+b,r],[o+b+(d?-8:8),r+7],w,[v,u],[v+(d?-25:25),n]].map(nt=>({x:nt[0],y:nt[1]})),g=ne(_),A=p.getAttribute("aria-current")=="page";s.append("path").attr("class",`root ${A?"current":""}`).attr("d",g);let O=[_[2],{x:w[0]+(d?-43:43),y:w[1]+52},{x:w[0]+(d?-55:55),y:n}];s.append("path").attr("class","root").attr("d",ne(O))})}};window.addEventListener("load",t=>{new I});})();
